webpackJsonp([1],{"+PgR":function(t,e){},"/KV2":function(t,e){},"7zck":function(t,e){},A1tS:function(t,e,a){t.exports=a.p+"static/img/1.81bb6c0.png"},GlGt:function(t,e){},"Jc/Q":function(t,e){},KfhM:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Scroll",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},r,!1,function(t){a("Jc/Q"),a("GlGt"),a("l+TZ")},"data-v-0980cd23",null).exports,n=a("/ocq"),i=a("mvHQ"),c=a.n(i),l=a("Dd8w"),u=a.n(l),v=a("NYxO");s.default.use(v.a);var d=new v.a.Store({state:{namePages:null},mutations:{setNamePages:function(t,e){t.namePages=e}},getters:{namePages:function(t){return t.namePages}}}),m={name:"Bar",data:function(){return{image_src:a("A1tS"),typeOfService:[],billId:"",tableNumber:""}},methods:{goBack:function(){console.log(this.$store.getters.namePages),"Order"===this.$store.getters.namePages||"Status"===this.$store.getters.namePages||"Receipt"===this.$store.getters.namePages?this.$router.push("/Momenu"):"Menu"===this.$store.getters.namePages&&this.$router.push("/MoType")}},created:function(){this.billId=sessionStorage.getItem("billId"),this.tableNumber=sessionStorage.getItem("tableNumber"),this.typeOfService=JSON.parse(sessionStorage.getItem("typeOfService"))}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{attrs:{dark:"",color:"#cd9575",fixed:""}},["Menu"===this.$store.getters.namePages?a("p",{attrs:{flat:"",icon:"",color:"white"}},[a("v-icon")],1):"TypeOfService"===this.$store.getters.namePages?a("v-img",{attrs:{src:t.image_src,"max-width":"40px"}}):a("v-btn",{attrs:{flat:"",icon:"",color:"white"},on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")])],1),t._v(" "),a("v-toolbar-title",{staticClass:"headline-text white--text"},[t._v(t._s(this.$store.getters.namePages))]),t._v(" "),a("v-spacer"),t._v(" "),"Menu"===this.$store.getters.namePages?a("div",[t._v("\n    Promotion : "+t._s(t.typeOfService.typeName)+"\n    "),a("br"),t._v("\n    Bill : "+t._s(t.billId)+"       Table No: "+t._s(t.tableNumber)+"\n  ")]):t._e()],1)},staticRenderFns:[]},p=a("VU/8")(m,f,!1,null,null,null).exports,h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-bottom-nav",{attrs:{value:!0,color:"#cd9575",fixed:""}},[a("v-btn",{attrs:{color:"white",flat:"",value:"callEmp",href:"/Mo"}},[a("span",{staticClass:"white--text"},[t._v("Call Employee")]),t._v(" "),a("v-icon",{attrs:{color:"white"}},[t._v("call")])],1),t._v(" "),"Status"===this.$store.getters.namePages?a("v-btn",{attrs:{color:"white",flat:"",value:"status",href:"/Momenu"}},[a("span",{staticClass:"white--text"},[t._v("Menu")]),t._v(" "),a("v-icon",{attrs:{color:"white"}},[t._v("list")])],1):a("v-btn",{attrs:{color:"white",flat:"",value:"status",href:"/MoStatus"}},[a("span",{staticClass:"white--text"},[t._v("Status")]),t._v(" "),a("v-icon",{attrs:{color:"white"}},[t._v("list")])],1),t._v(" "),a("v-btn",{attrs:{color:"white",flat:"",value:"receipt",href:"/MoReceipt"}},[a("span",{staticClass:"white--text"},[t._v("Receipt")]),t._v(" "),a("v-icon",{attrs:{color:"white"}},[t._v("receipt")])],1)],1)},staticRenderFns:[]},g=a("VU/8")({name:"NavBar",components:{}},h,!1,null,null,null).exports,_=a("mtWM"),b=a.n(_),x={name:"MoMenuPage",components:{Bar:p,NavBar:g},data:function(){return{typeOfService:[],item:[],tab:0,foodMenu:[],category:null,order:[]}},methods:{addMenu:function(t){var e=this.foodMenu.findIndex(function(e){return e.menuId===t}),a=u()({},this.foodMenu[e],{amount:this.foodMenu[e].amount+1});this.$set(this.foodMenu,e,a)},next:function(){this.order=this.foodMenu.filter(function(t){return t.amount>0}),0!=this.order.length?(sessionStorage.setItem("orders",c()(this.order)),sessionStorage.setItem("foodMenu",c()(this.foodMenu)),this.$router.push("/Moorder")):this.$dialog.alert({title:"Error",message:"Please add some menu at lease one",type:"is-warning"})}},computed:{items:function(){var t=this;if(null!=this.category)return this.foodMenu.filter(function(e){return e.categoryId===t.category[t.tab].categoryId})}},created:function(){var t=this;this.$store.commit("setNamePages","Menu"),this.typeOfService=JSON.parse(sessionStorage.getItem("typeOfService")),null!=JSON.parse(sessionStorage.getItem("foodMenu"))?this.foodMenu=JSON.parse(sessionStorage.getItem("foodMenu")):null!=this.typeOfService.typePrice?b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getmenubytypeofserviceid/"+this.typeOfService.typeId).then(function(e){t.foodMenu=e.data,t.foodMenu.forEach(function(t){t.amount=0})}):b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getallmenu/1").then(function(e){t.foodMenu=e.data,t.foodMenu.forEach(function(t){t.amount=0})}),b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getcategory/1").then(function(e){t.category=e.data})}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-toolbar",{staticClass:"tabBar",attrs:{fixed:""}},[s("Bar"),t._v(" "),s("v-tabs",{staticClass:"tabSlide",attrs:{color:"white","fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tabs-slider",{attrs:{color:"#cd9575"}}),t._v(" "),t._l(t.category,function(e){return s("v-tab",{key:e.categoryId},[t._v(t._s(e.categoryName))])})],2)],1),t._v(" "),s("v-card",{staticClass:"cardMenu",attrs:{color:"white"}},[t._l(t.items,function(e){return s("v-flex",{key:e.menuId,attrs:{xs12:""}},[s("v-layout",[s("v-flex",{staticClass:"box",attrs:{xs6:""}},[null!=e.menuPathImage?s("div",[s("img",{staticClass:"spacePic",attrs:{src:e.menuPathImage,contain:""}}),t._v(" "),s("img")]):s("div",[s("img",{staticClass:"spacePic",attrs:{src:a("A1tS"),contain:""}}),t._v(" "),s("img")])]),t._v(" "),s("v-flex",{staticClass:"spaceText",attrs:{xs6:""}},[s("v-content",[s("div",{staticClass:"subheading"},[t._v(t._s(e.menuName))]),t._v(" "),s("div",{staticClass:"subheading"},[t._v(t._s(e.menuPrice)+" ฿")]),t._v(" "),s("div",{staticClass:"iconBtn"},[e.amount>0?s("v-btn",{attrs:{outline:"",small:"",color:"black"},on:{click:function(t){e.amount--}}},[s("v-icon",{staticClass:"body-1"},[t._v("remove")])],1):s("v-btn",{attrs:{outline:"",small:"",disabled:"",color:"black"}},[s("v-icon",{staticClass:"body-1"},[t._v("remove")])],1),t._v("\n              "+t._s(e.amount)+"\n              "),s("v-btn",{attrs:{outline:"",small:"",color:"black"},on:{click:function(a){return t.addMenu(e.menuId)}}},[s("v-icon",{staticClass:"body-1"},[t._v("add")])],1)],1)])],1)],1)],1)}),t._v(" "),s("v-btn",{staticClass:"white--text",attrs:{color:"#cd9575",block:"",id:"spaceNext"},on:{click:t.next}},[t._v("NEXT")])],2),t._v(" "),s("navBar")],1)},staticRenderFns:[]};var C=a("VU/8")(x,y,!1,function(t){a("+PgR")},"data-v-70b63d9c",null).exports,S={name:"MoTypePage",components:{Bar:p},data:function(){return{typeOfService:[],selectService:[],newCust:[],dialog:!1,numRules:[function(t){return!!t||"Number of Customers is required"}],tableRules:[function(t){return!!t||"Table number is required"}]}},methods:{openDialog:function(t){this.dialog=!0,this.selectService=t},clickBack:function(){this.newCust=[],this.dialog=!1,this.$refs.form.resetValidation()},clickNext:function(){var t=this;this.$refs.form.validate()&&b.a.post("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/insertbill",{totalPrice:0,eatTimeEnd:new Date,eatTimeStart:new Date,numOfCust:this.newCust.numOfCust,typeId:this.selectService.typeId,tableNumber:this.newCust.tableNumber}).then(function(e){sessionStorage.setItem("billId",e.data),sessionStorage.setItem("typeOfService",c()(t.selectService)),sessionStorage.setItem("tableNumber",t.newCust.tableNumber),t.dialog=!1,t.$refs.form.resetValidation(),t.$router.push("/Momenu")})}},created:function(){var t=this;this.$store.commit("setNamePages","TypeOfService"),b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/gettypeofservice/1").then(function(e){t.typeOfService=e.data,console.log(t.typeOfService)})}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("Bar"),t._v(" "),a("v-flex",{staticClass:"space"},[a("v-dialog",{attrs:{"max-width":"490"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form"},[a("v-container",{attrs:{fluid:""}},[a("v-text-field",{attrs:{label:"Number of Customers","prepend-icon":"people",rules:t.numRules},model:{value:t.newCust.numOfCust,callback:function(e){t.$set(t.newCust,"numOfCust",e)},expression:"newCust.numOfCust"}}),t._v(" "),a("v-text-field",{attrs:{label:"Table number",rules:t.tableRules},model:{value:t.newCust.tableNumber,callback:function(e){t.$set(t.newCust,"tableNumber",e)},expression:"newCust.tableNumber"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.clickBack}},[t._v("Back")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.clickNext}},[t._v("Next")])],1)],1)],1)],1),t._v(" "),t._l(t.typeOfService,function(e){return a("div",{key:e.typeId},[a("v-img",{attrs:{src:e.typePathImage}}),t._v(" "),a("v-btn",{staticClass:"white--text",attrs:{block:"",color:"#cd9575"},on:{click:function(a){return t.openDialog(e)}}},[t._v(t._s(e.typeName)+" "+t._s(e.typePrice))])],1)})],2)],1)},staticRenderFns:[]};var M=a("VU/8")(S,w,!1,function(t){a("lRZf")},"data-v-50bf1df1",null).exports,P={name:"MoOrderPage",components:{Bar:p,NavBar:g},data:function(){return{orders:null,sum:0}},methods:{confirm:function(){for(var t=this,e=0;e<this.orders.length;e++)b.a.post("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/insertordered",{pricePerPiece:this.orders[e].menuPrice,amount:this.orders[e].amount,menuId:this.orders[e].menuId,statusId:1,billId:sessionStorage.getItem("billId")}).then(function(e){console.log(e.data),t.$router.push("/Mostatus"),sessionStorage.setItem("foodMenu",null)})}},computed:{sumTotalPrice:function(){for(var t=0;t<this.orders.length;t++)this.sum+=this.orders[t].amount*this.orders[t].menuPrice;return this.sum}},created:function(){this.$store.commit("setNamePages","Order"),this.orders=JSON.parse(sessionStorage.getItem("orders"))}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("Bar"),t._v(" "),a("div",{staticClass:"wrapper"},[a("v-card",{staticClass:"elevation-1",attrs:{color:"primary"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Menu")])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Amount")])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Price")])],1)],1)],1),t._v(" "),t._l(t.orders,function(e){return a("v-card",{key:e.orderId,staticClass:"elevation-1",attrs:{color:"primary",outline:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.menuName))])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.amount))])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.menuPrice))])],1)],1)],1)}),t._v(" "),a("v-card",{attrs:{height:"auto",flat:""}},[a("v-card-title",[a("strong",{staticClass:"subheading black--text"},[t._v("Total Prices: "+t._s(t.sumTotalPrice)+" ฿")]),t._v(" "),a("v-btn",{staticClass:"white--text",attrs:{color:"#cd9575",id:"confirmBtn"},on:{click:t.confirm}},[t._v("Confirm")])],1)],1)],2),t._v(" "),a("NavBar")],1)},staticRenderFns:[]};var k=a("VU/8")(P,N,!1,function(t){a("kzM0")},"data-v-2f24ba44",null).exports,I={name:"MoStatusPage",components:{Bar:p,NavBar:g},data:function(){return{currentPage:1,perPage:5,orders:[],columns:[{field:"menuName",label:"Menu"},{field:"statusName",label:"Status"}]}},created:function(){var t=this;this.$store.commit("setNamePages","Status"),b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getorderbybillid/"+sessionStorage.getItem("billId")).then(function(e){t.orders=e.data})}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("Bar"),t._v(" "),a("div",{staticClass:"wrapper"},[a("v-card",{staticClass:"elevation-1",attrs:{color:"primary"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Menu")])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Status")])],1)],1)],1),t._v(" "),t._l(t.orders,function(e){return a("v-card",{key:e.orderId,staticClass:"elevation-1",attrs:{color:"primary",outline:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.menuName))])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[3==t.orders.statusId?a("div",[a("v-card-text",{staticClass:"textRed"},[t._v(t._s(e.statusName))])],1):a("div",[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.statusName))])],1)])],1)],1)})],2),t._v(" "),a("v-footer",[a("NavBar")],1)],1)},staticRenderFns:[]};var $=a("VU/8")(I,O,!1,function(t){a("KfhM")},"data-v-1c65738d",null).exports,B=a("oqQY"),R=a.n(B),T={name:"MoReceiptPage",components:{Bar:p,NavBar:g},data:function(){return{bill:"",dialog:!1,typeOfService:[],tableNumber:"",orderDialog:!1,columns:[{field:"typeName",label:"Promotion"},{field:"numOfCust",label:"Customer"},{field:"totalPrice",label:"Price",numeric:!0}]}},methods:{okDialog:function(){var t=this;b.a.post("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/insertnotification",{notiMessage:"check bill",restaurantId:1,billId:sessionStorage.getItem("billId")}).then(function(e){t.dialog=!1})}},created:function(){var t=this;this.$store.commit("setNamePages","Receipt"),this.typeOfService=JSON.parse(sessionStorage.getItem("typeOfService")),b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getorderbybillid/"+sessionStorage.getItem("billId")).then(function(e){t.orders=e.data,console.log(t.orders)});var e=sessionStorage.getItem("billId");b.a.get("http://ec2-54-169-124-227.ap-southeast-1.compute.amazonaws.com:3000/api/getbillbybillid/"+e).then(function(e){if(t.bill=e.data,t.date=R()(t.bill[0].created_at).format("YYYY/MM/DD"),t.time=R()(t.bill[0].created_at).format("HH:mm:ss"),t.bill[0].typeName=t.typeOfService.typeName,"buffet"===t.typeOfService.service)t.bill[0].totalPrice=t.typeOfService.typePrice;else{for(var a=0,s=0;s<t.orders.length;s++)a+=t.orders[s].amount*t.orders[s].pricePerPiece;t.bill[0].totalPrice=a}})}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("Bar"),t._v(" "),a("div",{staticClass:"wrapper"},[a("v-layout",{staticClass:"space"},[a("v-flex",{attrs:{xs4:""}},[a("p",{staticClass:"subheading"},[t._v("Bill : "+t._s(t.bill[0].billId))]),t._v(" "),a("p",{staticClass:"subheading"},[t._v("Table : "+t._s(t.bill[0].tableNumber))])]),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("p",{staticClass:"subheading"},[t._v("Date : "+t._s(t.date))]),t._v(" "),a("p",{staticClass:"subheading"},[t._v("Time Start : "+t._s(t.time))])])],1),t._v(" "),a("b-table",{attrs:{data:t.bill,columns:t.columns}})],1),t._v(" "),a("v-btn",{staticClass:"white--text",attrs:{color:"#cd9575",id:"spaceNext"},on:{click:function(e){t.orderDialog=!0}}},[t._v("Ordered detail")]),t._v(" "),a("v-btn",{staticClass:"white--text",attrs:{color:"#cd9575",id:"spaceNext"},on:{click:function(e){t.dialog=!0}}},[t._v("Check Bill")]),t._v(" "),a("div",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("Are you sure you want to check bill?")]),t._v(" "),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),t._v(" "),a("v-btn",{staticClass:"cancelBtn",attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")]),t._v(" "),a("v-btn",{staticClass:"okBtn",attrs:{color:"blue darken-1",flat:""},on:{click:t.okDialog}},[t._v("OK")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"490"},model:{value:t.orderDialog,callback:function(e){t.orderDialog=e},expression:"orderDialog"}},[a("v-card",[a("v-form",{ref:"form"},[a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1",attrs:{color:"primary"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Menu")])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Amount")])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"textHead"},[t._v("Price")])],1)],1)],1),t._v(" "),t._l(t.orders,function(e){return a("v-card",{key:e.orderId,staticClass:"elevation-1",attrs:{color:"primary",outline:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.menuName))])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.amount))])],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-card-text",{staticClass:"text"},[t._v(t._s(e.menuPrice*e.amount))])],1)],1)],1)})],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"closeBtn",attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.orderDialog=!1}}},[t._v("BACK")])],1)],1)],1)],1),t._v(" "),a("NavBar")],1)},staticRenderFns:[]};var D=a("VU/8")(T,z,!1,function(t){a("unXu")},"data-v-13ed026d",null).exports;s.default.use(n.a);var E=new n.a({mode:"history",routes:[{path:"/",name:"MoTypePage",component:M},{path:"/MoMenu",name:"MoMenuPage",component:C},{path:"/MoType",name:"MoTypePage",component:M},{path:"/MoOrder",name:"MoOrderPage",component:k},{path:"/MoStatus",name:"MoStatusPage",component:$},{path:"/MoReceipt",name:"MoReceiptPage",component:D}]}),H=a("O3Oo"),V=a.n(H),A=(a("/KV2"),a("KzbO")),J=a("3EgV"),F=a.n(J),U=(a("7zck"),a("5zOJ")),K=a.n(U);s.default.component(K.a.name,K.a),s.default.use(F.a),s.default.use(A.a),s.default.prototype.$http=b.a,s.default.use(V.a),s.default.config.productionTip=!1,new s.default({store:d,el:"#app",router:E,components:{App:o},template:"<App/>"})},kzM0:function(t,e){},"l+TZ":function(t,e){},lRZf:function(t,e){},unXu:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bfac1e867ba5d5ba08f0.js.map